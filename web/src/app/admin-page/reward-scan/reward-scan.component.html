<div class="min-w-full min-h-full px-[48px]">
    <div class="w-full h-[150px] grid items-center grid-cols-2">
        <div>
            <p class="text-[32px] font-bold">
                Scanner
            </p>
            <p class="text-[#1093ED] text-[16px] font-medium underline">

            </p>
        </div>
    </div>
    <div class="flex gap-2 h-[calc(100vh-200px)]">
        <div class="rounded-[16px] py-6 px-4 bg-[#F2F2F4] flex-1 border-[#D9D9D9] text-[#999999]">
            <p>Scan History</p>
            <div class="grid gap-3 py-3">
                <div *ngFor="let item of list"
                    class="h-[112px] bg-white grid grid-cols-[auto_1fr_auto] px-4 gap-7 items-center rounded-[12px] border-[#D9D9D9] border-[1px] border-t-0">
                    <div class="bg-[#D9D9D9] h-[80px] aspect-[4/3] rounded-[16px] grid justify-center overflow-hidden">
                        <img *ngIf="item.Reward.img" [src]="item.Reward.img" class="h-full object-cover">
                        <img *ngIf="!item.Reward.img" src="image.svg" class="w-[60px]">
                    </div>
                    <div class="grid grid-rows-[20px] gap-3 w-full">
                        <p class="flex-row">
                            {{item.Profile.profile_name}}
                        </p>
                        <p class="flex-1">
                            {{item.Reward.reward_name}}
                        </p>
                    </div>
                    <div class="grid items-center">
                        <p>
                            {{item.createdAt | date : 'dd - MM - YYYY'}}
                        </p>
                    </div>
                </div>
            </div>

        </div>
        <div class="w-[30%] min-w-[450px] grid grid-rows-[auto_1fr] gap-3">
            <div (click)="scan.focus()"
                class="select-none cursor-pointer flex justify-center items-center h-[56px] rounded-[12px] bg-gradient-to-b from-[#1E54FD] to-[#0ACCF5] text-white">
                <div class="flex justify-center items-center gap-2" [ngClass]="{'animate-pulse': scanning}">
                    <img src="scan.svg" class="w-[16px] filter invert brightness-0">
                    <p>
                        {{scanning? 'Scanning...':'Open Scan'}}
                    </p>
                </div>
                <input #scan type="text" class="fixed -z-10" (keydown.enter)="onBarcodeScanned($event)"
                    (focus)="scanning = true" (blur)="scanning = false" placeholder="Scan barcode here">
            </div>

            <div class="py-6 px-4 rounded-[16px] bg-[#F2F2F4] border-[#D9D9D9]">
                <p class="text-[#1093ED]">
                    Scan Information
                </p>
                <div *ngIf="data_scan != null" class="rounded-[16px] w-full min-h-[270px] bg-white p-6 grid gap-4">
                    <div class="grid grid-rows-2 border-dashed border-0 border-b-[1px] border-[#D9D9D9]">
                        <div class="grid grid-cols-2 ">
                            <div>

                            </div>
                            <div class="text-end">
                                username
                            </div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div>
                                วันที่แลกรับสิทธิ์
                            </div>
                            <div class="text-end">
                                {{data_scan.date | date :'dd MMMM YYYY' : 'th-TH'}}
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-rows-3">
                        <div class="grid grid-cols-2">
                            <div>
                                ชื่อสินค้า
                            </div>
                            <div class="text-end">
                                สินค้า
                            </div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div>
                                คะแนนทั้งหมดที่มี
                            </div>
                            <div class="text-end">
                                {{data_scan.totalPoints}}
                            </div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div>
                                คะแนนที่ใช้
                            </div>
                            <div class="text-end">
                                {{data_scan.usedPoints}}
                            </div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div>
                                คะแนนคงเหลือ
                            </div>
                            <div class="text-end">
                                {{data_scan.remainingPoints}}
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="scanning && data_scan == null"
                    class="rounded-[16px] w-full h-[270px] bg-white p-6 grid gap-4">
                    <div class="grid grid-rows-2 border-dashed border-0 border-b-[1px] border-[#D9D9D9]">
                        <div class="grid grid-cols-2 ">
                            <div>

                            </div>
                            <div class="flex justify-end">
                                <p class="animate-pulse bg-slate-500 w-[80%] h-[14px]"></p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div>
                                วันที่แลกรับสิทธิ์
                            </div>
                            <div class="flex justify-end">
                                <p class="animate-pulse bg-slate-500 w-[80%] h-[14px]"></p>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-rows-3">
                        <div class="grid grid-cols-2">
                            <div>
                                ชื่อสินค้า
                            </div>
                            <div class="flex justify-end">
                                <p class="animate-pulse bg-slate-500 w-[80%] h-[14px]"></p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div>
                                คะแนนทั้งหมดที่มี
                            </div>
                            <div class="flex justify-end">
                                <p class="animate-pulse bg-slate-500 w-[80%] h-[14px]"></p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div>
                                คะแนนที่ใช้
                            </div>
                            <div class="flex justify-end">
                                <p class="animate-pulse bg-slate-500 w-[80%] h-[14px]"></p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2">
                            <div>
                                คะแนนคงเหลือ
                            </div>
                            <div class="flex justify-end">
                                <p class="animate-pulse bg-slate-500 w-[80%] h-[14px]"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- <ng-container>
                    <div class="h-[112px] rounded-[12px] border-[#D9D9D9]">
                        <img src="image.svg" class="w-[80px]">
                    </div>
                </ng-container> -->
            </div>
        </div>

    </div>
</div>